<Project Sdk="Microsoft.NET.Sdk">

		<PropertyGroup>
				<TargetFrameworks>net461;net472;net48;netstandard2.0;netstandard2.1;netcoreapp3.1;net6.0;net8.0;net9.0;net9.0-android;net9.0-ios;net9.0-maccatalyst</TargetFrameworks>
				<TargetFrameworks Condition="$([MSBuild]::IsOSPlatform('windows'))">$(TargetFrameworks);net9.0-windows10.0.19041.0</TargetFrameworks>
				<!-- 平台最低版本要求 -->
				<SupportedOSPlatformVersion Condition="$(TargetFramework.Contains('-windows'))">10.0.19041.0</SupportedOSPlatformVersion>
				<SupportedOSPlatformVersion Condition="$(TargetFramework.Contains('-android'))">21.0</SupportedOSPlatformVersion>
				<SupportedOSPlatformVersion Condition="$(TargetFramework.Contains('-ios'))">14.2</SupportedOSPlatformVersion>
				<SupportedOSPlatformVersion Condition="$(TargetFramework.Contains('-maccatalyst'))">15.0</SupportedOSPlatformVersion>
				<!-- 统一配置 .NET 6+ 共有的属性 -->
				<DefineConstants>$(DefineConstants);MODERN_DOTNET</DefineConstants>
				<LangVersion>10</LangVersion>
				<ImplicitUsings>enable</ImplicitUsings>
				<Nullable>enable</Nullable>
				<!-- info -->
				<PackageId>ManySpeech.K2TransducerAsr</PackageId>
				<Authors>manyeyes contributors</Authors>
				<Company>manyeyes contributors</Company>
				<Copyright>Copyright © manyeyes contributors</Copyright>
				<Summary>c# library for decoding K2 transducer Models，used in auto speech recognition (ASR)</Summary>
				<Description>c# library for decoding K2 transducer Models，used in auto speech recognition (ASR)</Description>
				<PackageTags>manyeyes git</PackageTags>
				<PackageProjectUrl>https://github.com/manyeyes/ManySpeech</PackageProjectUrl>
				<!--<AssemblyOriginatorKeyFile>..\K2TransducerAsr.snk</AssemblyOriginatorKeyFile>-->
				<!--<PackageIcon>square-logo.png</PackageIcon>-->
				<GenerateDocumentationFile>true</GenerateDocumentationFile>
				<IncludeSymbols>true</IncludeSymbols>
				<SymbolPackageFormat>snupkg</SymbolPackageFormat>
				<PackageReadmeFile>App_Readme/README.md</PackageReadmeFile>
				<PackageLicenseFile>App_Readme/LICENSE</PackageLicenseFile>
				<PackageRequireLicenseAcceptance>False</PackageRequireLicenseAcceptance>
				<GeneratePackageOnBuild>true</GeneratePackageOnBuild>
				<PublishRepositoryUrl>true</PublishRepositoryUrl>
				<EmbedUntrackedSources>true</EmbedUntrackedSources>
				<DebugType>embedded</DebugType>
				<SignAssembly>true</SignAssembly>
				<!-- 生成AssemblyInfo.cs（默认已启用，显式声明更清晰） -->
				<GenerateAssemblyInfo>true</GenerateAssemblyInfo>
				<!--<PackageOutputPath>$(ArtifactsPath)\package</PackageOutputPath>-->
				<MinVerDefaultPreReleaseIdentifiers>preview.0</MinVerDefaultPreReleaseIdentifiers>
				<!--<MinVerBuildMetadata Condition="'$(manyeyes_hash)' != ''">manyeyes-$(manyeyes_hash.Substring(0,7))</MinVerBuildMetadata>
			<manyeyes_hash> a1b2c3d4e5f67890abcdef </manyeyes_hash>-->
				<Version>1.0.9</Version>
				<!-- 文件版本与产品版本保持一致 -->
				<FileVersion>1.0.8</FileVersion>
				<!-- 预览版本信息（手动控制预览号，每次发布预览版时递增） -->
				<InformationalVersion>1.0.8-preview.3</InformationalVersion>
				<MinVerInformationalVersion>1.0</MinVerInformationalVersion>
				<!--<AssemblyVersion>1.0.3</AssemblyVersion>-->
		</PropertyGroup>
		
		<ItemGroup>
				<None Include="../../docs/readme/K2TransducerAsr/README.md" Pack="true" PackagePath="App_Readme/" Visible="false" />
				<None Include="../../docs/readme/K2TransducerAsr/README.zh_CN.md" Pack="true" PackagePath="App_Readme/" Visible="false" />
				<None Include="../../LICENSE" Pack="true" PackagePath="App_Readme/" Visible="false" />
		</ItemGroup>
		
		<ItemGroup>
				<PackageReference Include="ManySpeech.SpeechFeatures" Version="1.1.7" />
				<PackageReference Include="Microsoft.ML.OnnxRuntime" Version="1.22.1" />
		</ItemGroup>
		<!--<ItemGroup>
				<PackageReference Include="MinVer" Version="6.0.0" PrivateAssets="all" />
		</ItemGroup>-->
		<Target Name="AdjustVersions" AfterTargets="MinVer">
				<PropertyGroup>
						<MinVerMajor>1</MinVerMajor>
						<MinVerMinor>0</MinVerMinor>
						<AssemblyVersion>$(MinVerMajor).$(MinVerMinor).3</AssemblyVersion>
						<FileVersion>$(AssemblyVersion)</FileVersion>
						<InformationalVersion>$(MinVerInformationalVersion)</InformationalVersion>
						<MinVerPreReleaseIdentifier>preview</MinVerPreReleaseIdentifier>
				</PropertyGroup>
		</Target>

</Project>
